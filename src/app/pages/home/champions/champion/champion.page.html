<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref=""></ion-back-button>
    </ion-buttons>
    <ion-title>Champion</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-segment
    scrollable
    [(ngModel)]="segment"
    (ionChange)="segmentChanged($event)"
  >
    <ion-segment-button value="0">overview</ion-segment-button>
    <ion-segment-button value="1">status</ion-segment-button>
    <ion-segment-button value="2">abilities</ion-segment-button>
    <ion-segment-button value="3">builds</ion-segment-button>
  </ion-segment>

  <ion-slides
    *ngIf="championData"
    #slides
    pager="false"
    [options]="sliderOptions"
    (ionSlideDidChange)="slideChanged(slides)"
    (ionSlidesDidLoad)="slideChanged(slides)"
  >
    <ion-slide>
      <app-overview *ngIf="championData" [data]="championData"></app-overview>
    </ion-slide>
    <ion-slide>
      <app-status [stats]="championData.stats"></app-status>
    </ion-slide>
    <ion-slide>
      <app-abilities
        [passive]="championData.passive"
        [spells]="championData.spells"
      ></app-abilities>
    </ion-slide>
    <ion-slide>
      <ion-grid class="ion-padding">
        <ion-list *ngIf="builds">
          <ion-item
            *ngFor="let build of builds; index as i;"
            routerLink="{{build._id}}"
          >
            <ion-label>
              <ion-text color="light">
                {{build.name}}
              </ion-text>
            </ion-label>
            <ion-note slot="end">
              <ion-text>
                {{build.patch}}
              </ion-text>
            </ion-note>
          </ion-item>
        </ion-list>
        <ion-infinite-scroll (ionInfinite)="loadGuides(true, $event)">
          <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more Guides..."
          >
          </ion-infinite-scroll-content>
        </ion-infinite-scroll>
      </ion-grid>
    </ion-slide>
  </ion-slides>
</ion-content>
