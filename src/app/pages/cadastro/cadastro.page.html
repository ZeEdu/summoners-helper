<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/"></ion-back-button>
        </ion-buttons>
        <ion-title class="heading">Cadastro</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <form [formGroup]="frmSignup" (ngSubmit)="onSubmit()">
        <ion-item>
            <ion-input primary type="text" placeholder="Username" formControlName="username"></ion-input>
        </ion-item>
        <ion-item color="danger" *ngIf="frmSignup.controls['username'].hasError('required') &&
            frmSignup.controls['username'].pristine == false">
            <ion-label>
                Username is required
            </ion-label>
        </ion-item>
        <ion-item color="danger" *ngIf="frmSignup.controls['username'].hasError('haswhitespaces') &&
            frmSignup.controls['username'].pristine == false">
            <ion-label>
                White Spaces are not allowed
            </ion-label>
        </ion-item>
        <ion-item color="danger" *ngIf="frmSignup.controls['username'].hasError('minlength') &&
            frmSignup.controls['username'].pristine == false">
            <ion-label>
                Must have at least 5 characters
            </ion-label>
        </ion-item>
        <ion-item color="danger" *ngIf="frmSignup.controls['username'].hasError('maxlength') &&
            frmSignup.controls['username'].pristine == false">
            <ion-label>
                Must have less than 30 characters
            </ion-label>
        </ion-item>
        <ion-item color="danger" *ngIf="(frmSignup.controls['username'].hasError('isusernametaken') || frmSignup.controls['username'].hasError('maxlength')) &&
            frmSignup.controls['username'].pristine == false">
            <ion-label>
                Username already being used
            </ion-label>
        </ion-item>

        <ion-item>
            <ion-input primary type="email" placeholder="Email" formControlName="email"></ion-input>
        </ion-item>

        <ion-item>
            <ion-input primary type="password" placeholder="Password" formControlName="password"></ion-input>
        </ion-item>
        <ion-item>
            <ion-input primary type="password" placeholder="Confirm Password"
                       formControlName="confirmPassword"></ion-input>
        </ion-item>
        <ion-button expand="block" type="submit" disabled="frmGroup.invalid || frmGroup.pristine">
            Cadastrar
        </ion-button>
    </form>
</ion-content>
